由于这里我们学习的Java的数据结构，因此这里我们主要先来讲讲Java内存占用情况



首先是一些基本数据类型的内存占用

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE0fccd780359fc7fe1e3c273d3f6e66a0.png)

其次我们要知道，计算机访问内存的方式都是一次一个字节

字节，称之为Byte，简称为B，一个字节由8个无符号的二进制数组成，存储数值的范围为0-255，0指一个字节的二进制数全为零时，255则是指全为1时

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE452af26ad1425c605ede2ded930c4a44.png)

一个引用，即是内存地址，需要8个字节表示

例如 Date date = new Date();，其中date作为引用需要8个字节

创建一个对象，对象本身需要16个字节用来保存对象的头信息

例如 new Date();需要占用16个字节

对于一般内存的使用，如果不够8个字节，都会被自动填充为8字节，简而言之就是创建的内存必须是8的倍数

请看下面的分析

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEb64386dd3c7e25c6e19f01b244a01636.png)

但是对于java中的数组而言，由于被限定为对象，他们一般都会因为记录长度而需要额外的内存，一个原始数据类型的数组一般需要24个字节的头信息(16用于对象的开销，4字节用于保存长度，以及4个填充字节(即不满足8的倍数所进行的扩容的字节))

那么现在知道了上面的知识之后，我们正式来学习算法的空间复杂度分析

算法的空间复杂度分析

值得一提的是，算法的空间复杂度分析也是按照大O记法的规则来的

假设我们现在需要设计一个对指定数组进行反转并返回反转的内容的算法，那么请看我们设计的第一个算法

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE3ed48da6245698b4a934dd9a723b5673.png)

在这个算法里，我们一共申请了8个字节，循环内部的代码直接无视，那么用大O记法其空间复杂度为O(1);

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEda00cbfc9eb503234992c9896e65cbf4.png)

在上图里，我们先申请了四个字节，然后再申请了n*4个字节+数组需要的24字节，共申请了n*4+28字节

则用大O记法为O(n);

那显然是第一个算法用空间少，那当然第一个算法好些是吧

但是其实对于java的开发而言，除非我们是做java的嵌入式开发的，否则我们很多时候都需要管空间复杂度的，因为现在计算机的空间都已经足够大了，这些多少影响真心不大

以后我们说算法的复杂度分析时，如果没有特别指出是空间的复杂度分析，默认都是时间的复杂度分析