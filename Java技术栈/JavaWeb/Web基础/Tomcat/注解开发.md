我们以前都是基于配置文件进行开发的，我们一旦创建一个类，就要在配置文件上添加一个映射，就突出一个麻烦，实际上现在有更加好的替代方式了，就是基于注解开发，这个内容其实我们当初在实现图书馆管理系统的时候就已经有所了解了，但是现在我们就要正式进行学习了。更多的相关内容请看下图

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEeac6b1e1383138a6980ed4c2d6a5441a.png)

- 自动注解开发Servlet

注解开发也分两种，分别是自动注解开发和手动注解开发，后者只做了解，因为都有自动注解开发了谁几把还用手动注解开发啊。先来看看开发的步骤

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE9080c5c92f85c6ace7a1cfd75944a6b5.png)

我们先创建一个新的project项目，这样方便些，然后因为我们内置的jar包并不足够，比如HttpServlet类就不在我们的idea的内置jar包中，因此我们创建一个lib的文件夹将所有的jar包引入，然后选中所有的jar包，右键点击添加add as library...，然后我们就可以使用我们的所有jar包的内容了。这其实也是我们做项目的时候经常要做的一件事，最初我们做图书馆管理系统的时候其实也干过这事

然后我们创建一个JAVAEE项目，选择JAVAEE8，创建一个测试类，然后写入如下代码

```
package com.itheima.servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

/*
    基于注解方式开发Servlet
 */
@WebServlet("/servletDemo01")
public class ServletDemo01 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        System.out.println("ServletDemo01执行了...");
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}

```

然后我们点击run里的edit configuration，配置下tomcat然后启动，再地址栏上输入servletDemo01，然后我们能看到控制台上正确打印了doget方法里面的字符串，这说明我们已经关联成功了。这和我们之前使用配置文件来进行关联的效果是一样的，但是我们使用注解开发只需要及其简单的一行，这可方便太多了。

- WebServlet注解详解

我们以前就学习过，注解本身其实就是一个接口，我们也可以自定义注解，自定义注解比较麻烦，但是注解用起来就很方便。现在我们来看看WebServlet的注解的源码

```
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface WebServlet {
    String name() default "";//可以指定servlet的名称，等价于<servlet-name>

    String[] value() default {};//可以指定映射Servlet的路径，等效于<url-pattern>，同时可以指定多个路径，实现多映射

    String[] urlPatterns() default {};

    int loadOnStartup() default -1;//指定servlet的创建时机，默认是第一次访问时创建，等效于<load-on-startup>

    WebInitParam[] initParams() default {};//配置初始化参数，等效于<init-param>，当然也可以配置多个参数

    boolean asyncSupported() default false;//是否支持异步

    String smallIcon() default "";

    String largeIcon() default "";

    String description() default "";

    String displayName() default "";
}
```

这些里面的各种属性就相当于是我们当初配置文件里学习的各种配置，不同的是前者要比后者方便太多，具体怎么个对应法上面的代码都有所解释了

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE176bae1dc850834195a735078346d6be.png)

- 手动创建Servlet容器

这个方法还就突出那个麻烦，我们只做了解就可以了，来看看步骤

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE3807420ef335a2968c3b69d004e94c56.png)

好了，本节就结束了，有兴趣的自己去看网课复习吧，我反正没兴趣

