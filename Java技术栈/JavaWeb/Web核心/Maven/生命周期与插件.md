接着我们来学习maven基础的最后一个内容，生命周期与插件，在这节中我们主要讲述两个东西，一是构建生命周期，二是详细剖析下什么是插件

- 生命周期与插件

我们先来介绍下什么是构建生命周期，maven中的构建生命周期描述的是一次构建过程经历了多少次事件，我们的一个基本的构建生命周期的过程就是从编译到进入仓库，一共要经历五个事件，而这五个事件本身又构成一个生命周期（这一句不保证对）

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEbf4b2682234bd8af08525c5ed2282470.png)

当然，我们实际的构建生命周期的过程当然不止这一种，我们可以将我们的项目构建生命周期大体划分为三套，分别是clean（清理工作）、default（编译、测试、打包、部署）、site（产生报告、发布站点）。我们这里最重要的过程就是default过程

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEa6edafabf883b36e20fc05d09bea5389.png)

然后我们对我们划分的这三种生命周期进行分别讲解，首先是clean，还是比较简单的，总体就分为pre-clean、clean和post-clean

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE245445e82e384cb26994b824db0accba.png)

然后中间的就比较多了，如果我们直接看那肯定是非常痛苦的，我们这里要分开来看，假设我们只进行compile编译命令，那么其就会将编译前的过程都执行一遍。如果我们执行的是test测试，那么其就会将测试过程中的动作都执行一遍。其他的都是依葫芦画瓢了，这样我们就好理解多了，同时这个概念也是我们要明确记忆的。

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE9b650d43e3041bb74c5687a4f91f2bf4.png)

那么现在就知道了生命周期其实控制的是在进行构建任务的时候执行的过程都有哪些，每一个过程上都有一些对应的动作要做，而那些动作又是由谁做的呢？这就涉及到我们第二个要讲的东西了，也就是插件

插件与生命周期内的各个阶段绑定，在执行到对应声明周期时就会执行插件对应的功能，maven默认在各个生命周期上绑定有预设的功能，但是我们如果嫌他的功能不够，我们也可以加多点功能

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEaf7c9ffdee7ac1c103f15c6579f1e038.png)

现在我们上图中配置的是对源码打包的插件，加插件首先要有build标签，其下有plugins的子标签，同时也是大标签，plugin则是添加具体的插件，同样也可以添加多个插件。其下的groupId到version显然是在配置我们的插件依赖，而executions和execution虽然不知道啥意思，但是其作用我们估计也猜得到了，就是设置插件的用法，同样可以设置多个，goals和goal应该也是同理，其中goal标签内的内容指的是我们要生成的目标文件，这里我们要生成的是jar包，也就是我们的源码包，但实际上还有多个选项，比如我们可以选择生成我们的测试代码包，这个标签不是每一个插件都有的，同时如果我们需要一次打多个不同的包或者是多个包，我们可以在goals标签下设置多个goal标签来达成这个目的。而后面的phase则是指定我们插件要在执行到哪个过程中运行，其下填入的内容要与我们前一张图里的各种过程保持一致

最后我们可以做一个小结

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEc92b225ff2d61e82ddd83169d43262fc.png)

我们的生命周期指的是运行的阶段，而插件是为了支持生命周期所要完成的事，生命周期可以理解为是几岁，而插件可以理解为是几岁要干的事情。我们能很容易就知道，我们的构建过程主要靠生命周期和插件，而下面的产出则是可有可无的。