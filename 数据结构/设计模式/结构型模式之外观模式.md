现在我们来学习外观模式，这个模式其实比较简单啊，我们先举一个例子吧

> 有些人可能炒过股票，但其实大部分人都不太懂，这种没有足够了解证券知识的情况下做股票是很容易亏钱的，刚开始炒股肯定都会想，如果有个懂行的帮帮手就好，其实基金就是个好帮手，支付宝里就有许多的基金，它将投资者分散的资金集中起来，交由专业的经理人进行管理，投资于股票、债券、外汇等领域，而基金投资的收益归持有者所有，管理机构收取一定比例的托管管理费用。

简单来说，我们的外观模式就是给多个复杂的子系统提供一个一致的接口，外部用户可以通过访问这个接口来调用各个子系统的方法，这很好理解，给用户一个统一接口，这在我们现实生活中也是有很多对应的例子的，比如说我们会将各种功能都集成到手机中，然后用户通过手机即可调用其下各个方法，这就相当于是提供了一个统一接口

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE17d71541e93d695a3576b865007148cb.png)

接着我们来通过实现一个只能家电案例来加深我们对外观模式的理解

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE3bb6435e74f2ba3d51af1d397a809e4d.png)

首先我们创建对应的电灯类、电视机类和空调类，其都具有开启和关闭的方法

```
public class Light {

    //开灯
    public void on() {
        System.out.println("打开电灯");
    }

    //关灯
    public void off() {
        System.out.println("关闭电灯");
    }
}
```

然后我们创建一个外观类，该类聚合了电灯、电视机、空调对象，聚合的设置就放在构造方法里，然后提供一个语音控制的方法（这个方法就是我们提供的唯一方法接口），其下还有一键打开和关闭的方法，调用该方法会执行所有的软件的关闭，我们在对应的语音控制中判断有无打开关闭关键字，有则执行对应的方法即可

```
public class SmartAppliancesFacade {

    //聚合电灯对象，电视机对象，空调对象
    private Light light;
    private TV tv;
    private AirCondition airCondition;

    public SmartAppliancesFacade() {
        light = new Light();
        tv = new TV();
        airCondition = new AirCondition();
    }

    //通过语音控制
    public void say(String msg){
        if(msg.contains("打开")){
            on();
        }else if(msg.contains("关闭")){
            off();
        }else {
            System.out.println("没这操作");
        }
    }

    //一键打开
    private void on() {
        light.on();
        tv.on();
        airCondition.on();
    }

    //一键关闭
    private void off() {
        light.off();
        tv.off();
        airCondition.off();
    }
}

```

最后我们写入测试类如下，使用该测试类即可以通过提供的唯一接口来执行我们想要的一键关闭和开启的操作

```
public class Client {
    public static void main(String[] args) {
        //创建智能音箱对象
        SmartAppliancesFacade facade = new SmartAppliancesFacade();
        //控制家电
        facade.say("打开家电");
        System.out.println("================");
        facade.say("关闭家电");
    }
}
```

最后我们来看看外观模式的好坏及其使用场景

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE0954c6a82d0209e846ee4e86b6cb13bd.png)

- JDK源码分析

这一段时间看图吧，图里说的挺清楚了的，没啥需要我补充的

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE4fa980075aa8c1ef339e3c6b424392e2.png)

