- key常用指令

我们之前学习的指令都是一些对于具体的数据类型的指令，而我们现在要学习的指令是对于所有的key的指令，我们先来看看我们要学习key相关的哪些类型的指令

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEdf40a8b676c9d7f042c74c321013fee6.png)

首先是最基本的删除、获取、以及查看key的类型的指令

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE941ae890adb505b79db03b0a1c52c12f.png)

然后是排序和改名的命令，排序的命令并不会真正对我们的内部进行一个排序，而是将其展示的结果进行排序，同时如果我们想要倒序排序或者是对字母进行排序，那么我们就需要调用其相关的子命令，这里就不赘述了

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEf1fb76fdc97c44d151317c2f5ffe5746.png)

接着这个命令就是比较重要了的，其可以为指定的key设置有效期，其中expire是设置通过秒来设置有效期，而pexpire则是以毫秒展示，expireat是以时间戳的形式来设置，而pexpireat则是以毫秒时间戳的方式来设置。当然我们也还有获取key的有效时间的方法，分别是ttl和pttl，前者返回的是以秒为单位，而后者则是以毫秒为单位。如果我们的key是永久的，那么使用ttl的结果会是-1，如果是失效的，那么会是-2，如果还在倒计时中，那么其就会正确显示对应的倒计时。最后是persist方法，其会将key从时效性转换为永久性的

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE4945cdd3effec4270d13acdfe7a71136.png)

最后我们还有查询key的操作，其有各种不同的查询模式，具体请看下图，这里就不赘述了

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEa23f8b0da4de699a9bf361d9bdd12f41.png)

- DB常用指令

接着我们来学习关于redis数据库的常用指令，在学习之前，我们要先知道，为了解决数据库中出现大量的数据以及重复的key时，我们的redis数据库提供了编号从0-15的16个数据库，每个数据库之间相互独立。如果是在0数据库，则不会显示编号，若是在其他的，则会显示对应的编号。实际上，数据库的数量我们也是可以修改的，但是我们一般不这么做。

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE810752049a4b75df8eec59d6de01bc73.png)

数据库的基本操作有select命令，该命令可以在不同数据库之间切换，还有ping命令，该命令可以让测试我们的服务器是否连接，若是连接，我们输入ping其会打印pong，若没连接其会直接提示没连接

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEeb06a57459bbb15f83c73b27594ab6d1.png)

最后我们说一下db的扩展命令，首先是move命令，其可以指定某个key移动到另一个数据库中，dbsize则可以获取当前数据库的key的数量。flushdb会清除当前数据库的所有内容，而flushall会清除所有数据库的所有内容

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEd9d80e26d279b5efb577fbfba86e1146.png)

