- 案例效果的介绍

先来看看我们的案例效果，我们这里希望我们添加的时候输入相应信息然后点击添加就能立刻得到我们添加之后的列表，然后我们希望我们点击删除的时候也能立刻删除并且展示删除之后的列表

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE401381fd335eb48990095910d06f03ce.png)

- 添加功能分析

我们对我们的添加功能进行分析，我们要如何完成我们的添加功能呢？其实很简单，我们添加的第一步是先创建一行，然后将一行分为四列，接着获得四列对应的数据将其填充进去，接着再将这四列数据组成的新的一行添加到我们原来的地方上去。

- 添加功能的实现

先来看看步骤

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE754d1329cf787593f0c6b07d38c2881f.png)

然后我们可以构造代码如下

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>动态表格</title>

    <style>
        table{
            border: 1px solid;
            margin: auto;
            width: 500px;
        }

        td,th{
            text-align: center;
            border: 1px solid;
        }
        div{
            text-align: center;
            margin: 50px;
        }
    </style>

</head>
<body>

<div>
    <input type="text" id="name" placeholder="请输入姓名" autocomplete="off">
    <input type="text" id="age"  placeholder="请输入年龄" autocomplete="off">
    <input type="text" id="gender"  placeholder="请输入性别" autocomplete="off">
    <input type="button" value="添加" id="add">
</div>

<table id="tb">
    <caption>学生信息表</caption>
    <tr>
        <th>姓名</th>
        <th>年龄</th>
        <th>性别</th>
        <th>操作</th>
    </tr>

    <tr>
        <td>张三</td>
        <td>23</td>
        <td>男</td>
        <td><a href="JavaScript:void(0);" onclick="drop(this)">删除</a></td>
    </tr>

    <tr>
        <td>李四</td>
        <td>24</td>
        <td>男</td>
        <td><a href="JavaScript:void(0);" onclick="drop(this)">删除</a></td>
    </tr>

</table>

</body>
<script>
    //一、添加功能
    //1.为添加按钮绑定单击事件
    document.getElementById("add").onclick = function(){
        //2.创建行元素
        let tr = document.createElement("tr");
        //3.创建4个单元格元素
        let nameTd = document.createElement("td");
        let ageTd = document.createElement("td");
        let genderTd = document.createElement("td");
        let deleteTd = document.createElement("td");
        //4.将td添加到tr中
        tr.appendChild(nameTd);
        tr.appendChild(ageTd);
        tr.appendChild(genderTd);
        tr.appendChild(deleteTd);
        //5.获取输入框的文本信息
        let name = document.getElementById("name").value;
        let age = document.getElementById("age").value;
        let gender = document.getElementById("gender").value;
        //6.根据获取到的信息创建3个文本元素
        let nameText = document.createTextNode(name);
        let ageText = document.createTextNode(age);
        let genderText = document.createTextNode(gender);
        //7.将3个文本元素添加到td中
        nameTd.appendChild(nameText);
        ageTd.appendChild(ageText);
        genderTd.appendChild(genderText);
        //8.创建超链接元素和显示的文本以及添加href属性
        let a = document.createElement("a");
        let aText = document.createTextNode("删除");
        a.setAttribute("href","JavaScript:void(0);");
        a.setAttribute("onclick","drop(this)");
        a.appendChild(aText);
        //9.将超链接元素添加到td中
        deleteTd.appendChild(a);
        //10.获取table元素，将tr添加到table中
        let table = document.getElementById("tb");
        table.appendChild(tr);
    }

    //二、删除的功能
    //1.为每个删除超链接标签添加单击事件的属性
    //2.定义删除的方法
    function drop(obj){
        //3.获取table元素
        let table = obj.parentElement.parentElement.parentElement;
        //4.获取tr元素
        let tr = obj.parentElement.parentElement;
        //5.通过table删除tr
        table.removeChild(tr);
    }


</script>
</html>
```

对应的步骤都写在注释上了，这里就不再解释了，如果真的看不懂的话，可以回去看视频，因为这里也只是做一个了解，所以回顾的时候看不太懂也正常。这里值得一提的是我们的超链接href属性的内容是JavaScript:void(0);，其代表点击超链接之后不会刷新页面且不会递交数据，我们之前写入的是#，虽然其有不能提交数据的效果，但是其会刷新页面，这不是我们想要的，因此我们这里使用JavaScript:void(0);来代替#

- 删除功能的分析

本来这里应该是还有的，但是向学长告诉我这些甚至都可以不学，那我们就直接跳过了，不跟他浪费时间。但是最后我们又回来了，因为我们发现后面的内容还是会需要用到这里的内容，所以我们还是迅速过一遍吧。

首先我们来进行我们的删除功能的分析，首先我们要知道，对于JS内部的元素而言，其是不能自己删除自己的，只能通过其父元素完成对自己的删除。而且我们执行删除并不是删除一个单元格，而是对应的那一个列

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEff9c28ab359641240f22937b0d126af5.png)

那么当我们点击删除时，我们首先通过该元素寻找到其对应的单元格，然后通过单元格寻找到单元行，通过单元行（也就是对应的列）找到我们的整个表，最后通过表来删除我们的对应的列，这就是我们的整个分析过程了

- 删除功能实现

先来看看步骤

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE1870fda0d9024c7d536c8a8aa4e8e37d.png)

那么首先我们给我们的删除的超链接提供单机事件属性，我们令其单机就会调用drop函数，并传入其自身所代表的单元格的对象给这个方法，这里的this就是代表其自身的单元格对象

```
<table id="tb">
    <caption>学生信息表</caption>
    <tr>
        <th>姓名</th>
        <th>年龄</th>
        <th>性别</th>
        <th>操作</th>
    </tr>

    <tr>
        <td>张三</td>
        <td>23</td>
        <td>男</td>
        <td><a href="JavaScript:void(0);" onclick="drop(this)">删除</a></td>
    </tr>

    <tr>
        <td>李四</td>
        <td>24</td>
        <td>男</td>
        <td><a href="JavaScript:void(0);" onclick="drop(this)">删除</a></td>
    </tr>

</table>
```

同时我们自己的添加的链接也需要令其拥有触发对应事件的功能，因此我们要给我们自己添加的行设定对应的属性

```
//8.创建超链接元素和显示的文本以及添加href属性
let a = document.createElement("a");
let aText = document.createTextNode("删除");
a.setAttribute("href","JavaScript:void(0);");
a.setAttribute("onclick","drop(this)");
a.appendChild(aText);
```

最后就是我们的删除功能的代码，我们这里传入的单元格对象赋予给了obj，其调用三次获取父类的方法可以获得对应的table表对象，然后又通过两次调用父类的方法获取对应的列，通过表对象实现移除对应的列

```
//二、删除的功能
//1.为每个删除超链接标签添加单击事件的属性
//2.定义删除的方法
function drop(obj){
    //3.获取table元素
    let table = obj.parentElement.parentElement.parentElement;
    //4.获取tr元素
    let tr = obj.parentElement.parentElement;
    //5.通过table删除tr
    table.removeChild(tr);
}
```

