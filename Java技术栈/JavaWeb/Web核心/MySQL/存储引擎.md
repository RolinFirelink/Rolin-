这一章我们来学习存储引擎，我们先来进行一个存储引擎的介绍

- 存储引擎的介绍

但是在介绍存储引擎之前，我们先要去学习MySQL的体系结构，请看下图

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEf1af3494c9d2a1702448818978f89f9c.png)

在我们的MySQL最前面的是我们的客户端连接的层面，客户端连接里我们可以看到哪些是我们支持的客户端语言，非常多啊，JDBC其实就是我们的java语言，然后其他语言也支持。过了这个客户端连接之后，我们就到了我们的网络连接层

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE9572c84e610c8801bc5e899ec80618f5.png)

网络连接层是一个连接池，我们可以将其看成我们以前学习过的线程池。当我们的客户端发起一个连接，就会从网络连接层中获取一个连接来使用，并且在使用完毕之后将这个连接归还到连接池中。获取连接之后就到了我们的核心服务区

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE7b584fb78889ed7fddca0c26f6a2190f.png)

最左侧的Enterprise Management代表的是我们的系统管理和操作管理的相关内容，内含管理服务和工具，比如备份和恢复。然后SQL Interface代表的是SQL接口，这里可以接受对应的sql语句并返回查询的结果。然后是Parser查询解析器，在此处会进行sql语法结构的正确性验证以及解析sql语句。然后是Optimizer查询优化器，该优化器会帮我们优化我们的SQL语句（在查询操作之前），最后是Caches & Buffers，其代表一个缓存，如果缓存内有数据，就直接从缓存获取，如果没有，那再去数据库中查询。

过了第二层之后，我们就到了第三层，存储引擎层

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEb596ce9fdf825092465d376bae31a1d8.png)

在MySQL中的存储引擎是插件式的，也就是说一个数据库可以安装多个引擎，这样就可以根据不同的场景来使用不同的存储引擎。接着就到了最后一层，系统文件层

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE14494f7355e8dfd95e2dc76c4ba1c91a.png)

在系统文件层中，会保存一些数据文件，配置文件，以及日志文件。上面这些就是MySQL的基础结构，

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEae2cea0d173f38bb77d3ec69bd6d3b32.png)

了解了这些基础结构之后，接下来我们就来重点学习下我们的引擎，也就是第三层的部分，首先什么是引擎呢？

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEb2846eef2e69cf4be969b100d398c26d.png)

引擎在日常生活中就是整个机器运行的核心，不同的引擎具备不同的功能，同时也应用在 不同的场景之中。而在MySQL中，也是一样的。mysql中不同的引擎具备不同的功能，同时应用于不同的场景之中

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEc568fc2da53248329c2393320d0c8918.png)

MySQL中最常用的引擎就是InnoDB，其也是5.5版本后MySQL默认的存储引擎。后面的两个做了解就可以了，这三者的详细对比如图所示

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCE42eafdda8b79ebfc5bc1126260ec8ac0.png)

- 存储引擎的操作

关于存储引擎的操作，无非也就是查询和设置，当然没有删除，因为我们不能把我们的引擎给删了。具体语法内容在下图

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEee119bfd99bd9a5e1971aa948d8be5f9.png)

示例代码如下

```
/*
   查询数据库支持的存储引擎
   SHOW ENGINES;
*/
-- 查询数据库支持的存储引擎
        SHOW ENGINES;



/*
   查询某个数据库中所有数据表的存储引擎
   SHOW TABLE STATUS FROM 数据库名称;
*/
        -- 查询db4数据库所有表的存储引擎
        SHOW TABLE STATUS FROM db4;



/*
   查询某个数据库中某个表的存储引擎
   SHOW TABLE STATUS FROM 数据库名称 WHERE NAME = '数据表名称';
*/
        -- 查看db4数据库中category表的存储引擎
        SHOW TABLE STATUS FROM db4 WHERE NAME = 'category';



/*
   创建数据表指定存储引擎
   CREATE TABLE 表名(
         列名,数据类型,
         ...
   )ENGINE = 引擎名称;
*/
        CREATE TABLE engine_test(
        id INT PRIMARY KEY AUTO_INCREMENT,
        NAME VARCHAR(10)
        )ENGINE = MYISAM;

        SHOW TABLE STATUS FROM db4;

/*
   修改数据表的存储引擎
   ALTER TABLE 表名 ENGINE = 引擎名称;
*/
        -- 修改engine_test表的存储引擎为InnoDB
        ALTER TABLE engine_test ENGINE = INNODB;

```

- 存储引擎的选择

这个是适记性的知识，我们直接看图吧

![](D:/Rolin的学习笔记/youdaonote-pull/youdaonote/youdaonote-images/WEBRESOURCEade2650df805e7e22ddfd36a55bd9d75.png)

